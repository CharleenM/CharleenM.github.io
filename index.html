<!DOCTYPE html>
<html>
    <style>
       table{
  border: 1px solid black;
  border-collapse: collapse;
  width: 80%;
}
 </style>
<body>

<h1 style="font-family:verdana;">Urlaubspreise</h1>

<script>
//document.getElementById("demo").innerHTML = httpGet("https://aida.de/finden/NO07220716/VARIO?airport=&pax[adults]=0&pax[children]=0&pax[juveniles]=2");
function httpGet(theUrl)
{
    if(theUrl == ''){
        return "Preis (gesamt)";
    }
    var xmlHttp = new XMLHttpRequest();
    xmlHttp.open( "GET", theUrl, false ); // false for synchronous request
    xmlHttp.send( null );
    var resp = xmlHttp.responseText;
    const myArray = resp.split("\"d-block route-offers__cabin-price\"");
    let p = myArray[3];

    return p.substring(8,14) + " €";
}
const urls = ['','https://aida.de/finden/DI07230902/VARIO?airport=&cabin=B&pax[adults]=0&pax[children]=0&pax[juveniles]=2&ta=','https://aida.de/finden/NO07230909/VARIO?airport=&cabin=B&pax[adults]=0&pax[children]=0&pax[juveniles]=2&ta=','https://aida.de/finden/NO07230902/VARIO?airport=&cabin=B&pax[adults]=0&pax[children]=0&pax[juveniles]=2&ta=','https://aida.de/finden/CO07230909/VARIO?airport=&cabin=D&pax[adults]=0&pax[children]=0&pax[juveniles]=2&ta=','https://aida.de/finden/CO07230902/VARIO?airport=&cabin=D&pax[adults]=0&pax[children]=0&pax[juveniles]=2&ta=','https://aida.de/finden/CO07230908/VARIO?airport=&cabin=D&pax[adults]=0&pax[children]=0&pax[juveniles]=2&ta=','https://aida.de/finden/BL07230903/VARIO?airport=&cabin=B&pax[adults]=0&pax[children]=0&pax[juveniles]=2&ta='];
const reisen =['Reise','Norwegen ab Warnemünde','Norwegen & Dänemark ab Kiel','Norwegen ab Kiel','Mediterrane Schätze ab Mallorca','Mediterrane Schätze ab Mallorca 2','Mediterrane Schätze ab Barcelona','Mittelmeerinseln ab Korfu'];
const schiffe = ['Schiff','AIDAdiva','AIDAnova','AIDAnova','AIDAcosma','AIDAcosma','AIDAcosma','AIDAblu']
const tbl = document.createElement("table");
  const tblBody = document.createElement("tbody");



  // creating all cells
  for (let i = 0; i < 4; i++) {
    // creates a table row
    const row = document.createElement("tr");

    for (let j = 0; j < urls.length; j++) {
      // Create a <td> element and a text node, make the text
      // node the contents of the <td>, and put the <td> at
      // the end of the table row
      //Kopfzeile
     content1 = httpGet(urls[j])
      if(i ==0){
        const cell = document.createElement("td");
      const cellText = document.createTextNode(reisen[j]);
      cell.setAttribute("style","font-size: 22px");
      cell.appendChild(cellText);
      row.appendChild(cell);
      }
      else if(i==1){
        const cell = document.createElement("td");
        
      const cellText = document.createTextNode(schiffe[j]);
      cell.appendChild(cellText);
      row.appendChild(cell);
      }
      else if (i==2){
        const cell = document.createElement("td");
      const cellText = document.createTextNode(content1);
      cell.appendChild(cellText);
      row.appendChild(cell);
      }
      else{
        const cell = document.createElement("td");
        let cellText = document.createTextNode("Preis pro Person");
        if(j!=0){
           cellText = document.createTextNode(parseFloat(content1)/2 +" €");
        }
    
      cell.appendChild(cellText);
      row.appendChild(cell);
      }
     
    }

    // add the row to the end of the table body
    tblBody.appendChild(row);
  }

  // put the <tbody> in the <table>
  tbl.appendChild(tblBody);
  // appends <table> into <body>
  document.body.appendChild(tbl);
  // sets the border attribute of tbl to '2'
  tbl.setAttribute("style", "font-size:20px;color:black;font-family:verdana;");
  tbl.setAttribute("border", "2");
  
  //tbl.setAttribute("style", "font-size:20px");

</script> 
<img src="https://www.seetours.de/sites/de_seetours_www/files/styles/open_graph/public/schiff/aidacosma/aidacosma-kreuzfahrtschiff_0.jpg?itok=mMMLY75T" alt="Italian Trulli">
</body>
</html>
